---
layout: default
title: LLM-aid System update and modification 
parent: UML
grand_parent: 生成式AI協助報告撰寫
nav_order: 99
date: 2023-09-13
last_modified_date: 2023-09-15 16:02:26
tags: AI chat report
---

# LLM-aid System update and modification 
{: .no_toc }

<details open markdown="block">
  <summary>
    Table of contents
  </summary>
  {: .text-delta }
- TOC
{:toc}
</details>
---

承接文件化程度低的系統是一項挑戰，但結合語言模型和自動化工具，可以協助快速理解系統架構、找出版本差異，並精確修改特定部分。以下是步驟及具體建議：

## 1. 初步了解系統架構

### 語言模型的作用

	•	使用語言模型分析系統代碼或文件，提取關鍵模組、功能描述及代碼中的核心邏輯。
	•	提供摘要功能，將長篇代碼簡化為邏輯清晰的說明。

### 工具與步驟

	1.	代碼摘要與註解補充：
	•	利用工具（如 ChatGPT 或 GitHub Copilot），分析每個模組的功能並補充缺失註解。
	•	語言模型可根據函數名、變數名生成推測功能的描述。
	2.	架構圖生成：
	•	將主要代碼結構（目錄、模組、類）轉為C4 模型的圖示。
	•	使用工具如 Structurizr 或手動生成 UML 圖。

## 2. 找出新舊版本的差異

### 語言模型的作用

	•	提取和解釋代碼差異，協助理解變更原因和潛在影響。
	•	生成變更總結，幫助快速識別更新的關鍵功能。

### 工具與步驟

	1.	版本差異分析：
	•	使用 Git 工具執行 git diff，提取變更代碼。
	•	將差異部分輸入語言模型，生成自然語言的改動摘要。
	•	範例：

git diff old_branch new_branch > diff.txt

將 diff.txt 提供給語言模型，讓其總結變更的邏輯。

	2.	代碼影響分析：
	•	使用語言模型檢查改動是否影響其他模組（如方法的參數變更）。
	•	語言模型可以根據依賴關係提示其他需要修改的部分。

### 3. 快速理解特定部分

語言模型的作用

	•	將特定代碼段輸入模型，生成解釋或伺服於問題的答案（如函數用途、流程解析）。
	•	模擬代碼運行，提供流程的輸出預測。

工具與步驟

	1.	模組重點解析：
	•	找到需要修改的模組，提取出相關邏輯並輸入語言模型，請求簡要解釋。
	•	問題示例：
	•	「這段代碼的功能是什麼？」
	•	「如何修改讓這段代碼支持新功能？」
	2.	流程模擬與測試：
	•	模型可以生成測試代碼，幫助快速驗證系統修改後的正確性。
	•	示例問題：
	•	「為這段代碼生成一組單元測試。」
	•	「這段代碼的測試覆蓋率如何提升？」

## 4. 支援精確修改

### 語言模型的作用

	•	根據需求，自動生成修改建議並提供補充註解。
	•	協助重構代碼以提升可讀性與擴展性。

### 工具與步驟

	1.	變更指導：
	•	向語言模型描述修改需求，讓其生成實現該功能的代碼片段。
	•	示例問題：
	•	「如何修改這段代碼以支持多線程處理？」
	•	「這段代碼中需要新增的參數有哪些？」
	2.	重構與優化：
	•	模型可以建議如何優化性能或減少冗餘代碼。
	•	工具如 SonarQube 搭配語言模型可自動檢查並修正代碼中的反模式。

## 5. 長期改進與文件化

### 語言模型的作用
	•	自動生成文檔，讓系統的文件化從無到有。
	•	提供版本記錄和修改歷史的追蹤功能。

### 工具與步驟
	1.	文檔生成：
	•	將代碼中的註解提取並轉換為技術文檔（如 Markdown 格式）。
	•	使用工具如 Sphinx 結合語言模型完成文檔化。
	2.	版本歷史追蹤：
	•	語言模型可以生成更清晰的版本日誌或變更紀錄（如 CHANGELOG.md）。

## 總結

語言模型可以輔助你快速理解低文件化系統的邏輯、分析版本差異並精確修改，主要方法包括：

	1.	生成代碼摘要和架構圖。
	2.	幫助分析版本差異，並總結改動。
	3.	快速解釋特定代碼邏輯並生成測試。
	4.	提供重構與優化建議。
	5.	自動化生成技術文檔。

結合工具（如 Git、UML、語言模型和 Sphinx），可以顯著提升工作效率，並逐步改善系統的可維護性與文件化程度。
